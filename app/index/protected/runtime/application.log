2016/03/20 14:36:10 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'index' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `authitem` (`name`, `type`, `description`, `bizrule`, `data`) VALUES (:name, :type, :description, :bizrule, :data).
in E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php (13)
in E:\workspace\work\weijia\app\index\index.php (13)
2016/03/20 14:36:10 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand failed to execute the SQL statement: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'index' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `authitem` (`name`, `type`, `description`, `bizrule`, `data`) VALUES (:name, :type, :description, :bizrule, :data)' in E:\workspace\work\weijia\app\framework\db\CDbCommand.php:358
Stack trace:
#0 E:\workspace\work\weijia\app\framework\db\CDbCommand.php(1278): CDbCommand->execute(Array)
#1 E:\workspace\work\weijia\app\framework\web\auth\CDbAuthManager.php(444): CDbCommand->insert('authitem', Array)
#2 E:\workspace\work\weijia\app\framework\web\auth\CAuthManager.php(100): CDbAuthManager->createAuthItem('index', 0, '????????', NULL, NULL)
#3 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(13): CAuthManager->createOperation('index', '????????')
#4 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actiontest()
#5 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#6 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#7 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#8 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('test')
#9 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/test')
#10 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#11 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#12 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/test
---
2016/03/21 13:19:32 [error] [exception.CException] exception 'CException' with message 'Property "CStringValidator.0" is not defined.' in E:\workspace\work\weijia\app\framework\base\CComponent.php:173
Stack trace:
#0 E:\workspace\work\weijia\app\framework\validators\CValidator.php(177): CComponent->__set('0', '???????????????...')
#1 E:\workspace\work\weijia\app\framework\base\CModel.php(287): CValidator::createValidator('length', Object(User), 'username, passw...', Array)
#2 E:\workspace\work\weijia\app\framework\base\CModel.php(260): CModel->createValidators()
#3 E:\workspace\work\weijia\app\framework\base\CModel.php(547): CModel->getValidators()
#4 E:\workspace\work\weijia\app\framework\base\CModel.php(468): CModel->getSafeAttributeNames()
#5 E:\workspace\work\weijia\app\framework\base\CComponent.php(152): CModel->setAttributes(Array)
#6 E:\workspace\work\weijia\app\framework\db\ar\CActiveRecord.php(161): CComponent->__set('attributes', Array)
#7 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(125): CActiveRecord->__set('attributes', Array)
#8 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLoginUser()
#9 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#10 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#11 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#12 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('loginuser')
#13 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/loginuser')
#14 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#15 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#16 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/loginuser
HTTP_REFERER=http://localhost/weijia/app/index/index.php?r=site/loginuser
---
2016/03/21 13:25:34 [error] [exception.CException] exception 'CException' with message 'Property "CStringValidator.0" is not defined.' in E:\workspace\work\weijia\app\framework\base\CComponent.php:173
Stack trace:
#0 E:\workspace\work\weijia\app\framework\validators\CValidator.php(177): CComponent->__set('0', '???????????????...')
#1 E:\workspace\work\weijia\app\framework\base\CModel.php(287): CValidator::createValidator('length', Object(User), 'username, passw...', Array)
#2 E:\workspace\work\weijia\app\framework\base\CModel.php(260): CModel->createValidators()
#3 E:\workspace\work\weijia\app\framework\base\CModel.php(304): CModel->getValidators('gender')
#4 E:\workspace\work\weijia\app\framework\web\helpers\CHtml.php(1514): CModel->isAttributeRequired('gender')
#5 E:\workspace\work\weijia\app\framework\web\widgets\CActiveForm.php(600): CHtml::activeLabelEx(Object(User), 'gender', Array)
#6 E:\workspace\work\weijia\app\index\protected\views\site\loginUser.php(23): CActiveForm->labelEx(Object(User), 'gender')
#7 E:\workspace\work\weijia\app\framework\web\CBaseController.php(126): require('E:\workspace\wo...')
#8 E:\workspace\work\weijia\app\framework\web\CBaseController.php(95): CBaseController->renderInternal('E:\workspace\wo...', Array, true)
#9 E:\workspace\work\weijia\app\framework\web\CController.php(869): CBaseController->renderFile('E:\workspace\wo...', Array, true)
#10 E:\workspace\work\weijia\app\framework\web\CController.php(782): CController->renderPartial('loginUser', Array, true)
#11 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(130): CController->render('loginUser', Array)
#12 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLoginUser()
#13 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#14 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#15 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#16 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('loginuser')
#17 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/loginuser')
#18 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#19 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#20 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/loginuser
---
2016/03/21 13:25:41 [error] [exception.CException] exception 'CException' with message 'Property "CStringValidator.0" is not defined.' in E:\workspace\work\weijia\app\framework\base\CComponent.php:173
Stack trace:
#0 E:\workspace\work\weijia\app\framework\validators\CValidator.php(177): CComponent->__set('0', '???????????????...')
#1 E:\workspace\work\weijia\app\framework\base\CModel.php(287): CValidator::createValidator('length', Object(User), 'username, passw...', Array)
#2 E:\workspace\work\weijia\app\framework\base\CModel.php(260): CModel->createValidators()
#3 E:\workspace\work\weijia\app\framework\base\CModel.php(304): CModel->getValidators('gender')
#4 E:\workspace\work\weijia\app\framework\web\helpers\CHtml.php(1514): CModel->isAttributeRequired('gender')
#5 E:\workspace\work\weijia\app\framework\web\widgets\CActiveForm.php(600): CHtml::activeLabelEx(Object(User), 'gender', Array)
#6 E:\workspace\work\weijia\app\index\protected\views\site\loginUser.php(23): CActiveForm->labelEx(Object(User), 'gender')
#7 E:\workspace\work\weijia\app\framework\web\CBaseController.php(126): require('E:\workspace\wo...')
#8 E:\workspace\work\weijia\app\framework\web\CBaseController.php(95): CBaseController->renderInternal('E:\workspace\wo...', Array, true)
#9 E:\workspace\work\weijia\app\framework\web\CController.php(869): CBaseController->renderFile('E:\workspace\wo...', Array, true)
#10 E:\workspace\work\weijia\app\framework\web\CController.php(782): CController->renderPartial('loginUser', Array, true)
#11 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(130): CController->render('loginUser', Array)
#12 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLoginUser()
#13 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#14 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#15 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#16 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('loginuser')
#17 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/loginuser')
#18 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#19 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#20 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/loginuser
---
2016/03/21 13:26:04 [error] [exception.CException] exception 'CException' with message 'Property "CStringValidator.0" is not defined.' in E:\workspace\work\weijia\app\framework\base\CComponent.php:173
Stack trace:
#0 E:\workspace\work\weijia\app\framework\validators\CValidator.php(177): CComponent->__set('0', '???????????????...')
#1 E:\workspace\work\weijia\app\framework\base\CModel.php(287): CValidator::createValidator('length', Object(User), 'username, passw...', Array)
#2 E:\workspace\work\weijia\app\framework\base\CModel.php(260): CModel->createValidators()
#3 E:\workspace\work\weijia\app\framework\base\CModel.php(304): CModel->getValidators('gender')
#4 E:\workspace\work\weijia\app\framework\web\helpers\CHtml.php(1514): CModel->isAttributeRequired('gender')
#5 E:\workspace\work\weijia\app\framework\web\widgets\CActiveForm.php(600): CHtml::activeLabelEx(Object(User), 'gender', Array)
#6 E:\workspace\work\weijia\app\index\protected\views\site\loginUser.php(23): CActiveForm->labelEx(Object(User), 'gender')
#7 E:\workspace\work\weijia\app\framework\web\CBaseController.php(126): require('E:\workspace\wo...')
#8 E:\workspace\work\weijia\app\framework\web\CBaseController.php(95): CBaseController->renderInternal('E:\workspace\wo...', Array, true)
#9 E:\workspace\work\weijia\app\framework\web\CController.php(869): CBaseController->renderFile('E:\workspace\wo...', Array, true)
#10 E:\workspace\work\weijia\app\framework\web\CController.php(782): CController->renderPartial('loginUser', Array, true)
#11 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(130): CController->render('loginUser', Array)
#12 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLoginUser()
#13 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#14 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#15 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#16 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('loginuser')
#17 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/loginuser')
#18 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#19 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#20 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/loginuser
---
2016/03/21 13:26:25 [error] [exception.CException] exception 'CException' with message 'Property "CStringValidator.0" is not defined.' in E:\workspace\work\weijia\app\framework\base\CComponent.php:173
Stack trace:
#0 E:\workspace\work\weijia\app\framework\validators\CValidator.php(177): CComponent->__set('0', '???????????????...')
#1 E:\workspace\work\weijia\app\framework\base\CModel.php(287): CValidator::createValidator('length', Object(User), 'username, passw...', Array)
#2 E:\workspace\work\weijia\app\framework\base\CModel.php(260): CModel->createValidators()
#3 E:\workspace\work\weijia\app\framework\base\CModel.php(304): CModel->getValidators('gender')
#4 E:\workspace\work\weijia\app\framework\web\helpers\CHtml.php(1514): CModel->isAttributeRequired('gender')
#5 E:\workspace\work\weijia\app\framework\web\widgets\CActiveForm.php(600): CHtml::activeLabelEx(Object(User), 'gender', Array)
#6 E:\workspace\work\weijia\app\index\protected\views\site\loginUser.php(23): CActiveForm->labelEx(Object(User), 'gender')
#7 E:\workspace\work\weijia\app\framework\web\CBaseController.php(126): require('E:\workspace\wo...')
#8 E:\workspace\work\weijia\app\framework\web\CBaseController.php(95): CBaseController->renderInternal('E:\workspace\wo...', Array, true)
#9 E:\workspace\work\weijia\app\framework\web\CController.php(869): CBaseController->renderFile('E:\workspace\wo...', Array, true)
#10 E:\workspace\work\weijia\app\framework\web\CController.php(782): CController->renderPartial('loginUser', Array, true)
#11 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(130): CController->render('loginUser', Array)
#12 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLoginUser()
#13 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#14 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#15 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#16 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('loginuser')
#17 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/loginuser')
#18 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#19 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#20 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/loginuser
---
2016/03/21 13:31:31 [warning] [application] Failed to set unsafe attribute "cellphone" of "User".
in E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php (125)
in E:\workspace\work\weijia\app\index\index.php (13)
2016/03/21 13:34:47 [warning] [application] Failed to set unsafe attribute "cellphone" of "User".
in E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php (125)
in E:\workspace\work\weijia\app\index\index.php (13)
2016/03/21 13:34:47 [error] [exception.CException] exception 'CException' with message 'Property "User._identity" is not defined.' in E:\workspace\work\weijia\app\framework\base\CComponent.php:173
Stack trace:
#0 E:\workspace\work\weijia\app\framework\db\ar\CActiveRecord.php(161): CComponent->__set('_identity', Object(UserIdentity))
#1 E:\workspace\work\weijia\app\index\protected\models\User.php(56): CActiveRecord->__set('_identity', Object(UserIdentity))
#2 E:\workspace\work\weijia\app\framework\validators\CInlineValidator.php(42): User->authenticate('password', Array)
#3 E:\workspace\work\weijia\app\framework\validators\CValidator.php(201): CInlineValidator->validateAttribute(Object(User), 'password')
#4 E:\workspace\work\weijia\app\framework\base\CModel.php(159): CValidator->validate(Object(User), NULL)
#5 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(126): CModel->validate()
#6 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLoginUser()
#7 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#8 E:\workspace\work\weijia\app\framework\web\CController.php(286): CController->runAction(Object(CInlineAction))
#9 E:\workspace\work\weijia\app\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#10 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): CController->run('loginuser')
#11 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController('site/loginuser')
#12 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#13 E:\workspace\work\weijia\app\index\index.php(13): CApplication->run()
#14 {main}
REQUEST_URI=/weijia/app/index/index.php?r=site/loginuser
HTTP_REFERER=http://localhost/weijia/app/index/index.php?r=site/loginuser
---
2016/03/21 13:38:19 [error] [php] Undefined variable: id (E:\workspace\work\weijia\app\index\protected\components\UserIdentity.php:38)
Stack trace:
#0 E:\workspace\work\weijia\app\framework\validators\CValidator.php(201): CInlineValidator->validateAttribute()
#1 E:\workspace\work\weijia\app\framework\base\CModel.php(159): CInlineValidator->validate()
#2 E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php(116): LoginForm->validate()
#3 E:\workspace\work\weijia\app\framework\web\actions\CInlineAction.php(49): SiteController->actionLogin()
#4 E:\workspace\work\weijia\app\framework\web\CController.php(308): CInlineAction->runWithParams()
#5 E:\workspace\work\weijia\app\framework\web\CController.php(286): SiteController->runAction()
#6 E:\workspace\work\weijia\app\framework\web\CController.php(265): SiteController->runActionWithFilters()
#7 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(282): SiteController->run()
#8 E:\workspace\work\weijia\app\framework\web\CWebApplication.php(141): CWebApplication->runController()
#9 E:\workspace\work\weijia\app\framework\base\CApplication.php(185): CWebApplication->processRequest()
#10 E:\workspace\work\weijia\app\index\index.php(13): CWebApplication->run()
REQUEST_URI=/weijia/app/index/index.php?r=site/login
in E:\workspace\work\weijia\app\index\protected\components\UserIdentity.php (38)
in E:\workspace\work\weijia\app\index\protected\models\LoginForm.php (52)
in E:\workspace\work\weijia\app\index\protected\controllers\SiteController.php (116)
